<!DOCTYPE html>
<html lang="pt-BR">

{% load static %}

<head>
    <meta charset="utf-8">
    <title>{{ config.0 }} — {{ config.1 }}</title>
    <link rel="icon" href="https://pulvissolaris.files.wordpress.com/2021/01/cropped-triskelion.png" />

    <!--BOOTSTRAP n' JQUERY-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

    <!--JS-->
    <script type="module" src="{% static 'js/index/main.js' %}"></script>

    <!--CSS-->
    <link rel="stylesheet" href="{% static 'css/main/menu.css' %}">
    <link rel="stylesheet" href="{% static 'css/index/index.css' %}">
</head>

<style>
    #navbar {
        background-color: #fff;
    }

    #navbar li a {
        background-color: #fff;
        color: {{ colors.2 }};
    }

    #navbar li a:hover {
        border-bottom: {{ colors.0 }} solid 1px;
        color: {{ colors.0 }};
    }

    #navbar li.active a {
        border-bottom: {{  colors.1 }} solid 1px;
        color: {{ colors.1 }};
    }

    #navbar .submenu {
        background-color: {{ colors.3 }};
    }

    #navbar .submenu .item {
        background-color: {{ colors.3 }};
        color: {{ colors.0 }};
    }

    #navbar .submenu .item:hover {
        background-color: {{ colors.0 }};
        color: {{  colors.1 }};
    }

    .index-widgets {
        background-color: {{ colors.0 }};
    }

    .index-widgets a {
        color: {{ colors.3 }};
    }

    .index-widgets li {
        color: {{ colors.3 }};
    }

    .index-widgets h4 {
        color: {{ colors.3 }};
    }

    .index-main {
        background-color: {{ colors.0 }};
    }

    .footer {
        background-color: {{ colors.0 }};
    }

    .footer p {
        color: {{ colors.3 }};
    }

    h1, h2, h3, h4 {
        color: {{  colors.1 }};
    }

    .apresentation-button {
        background-color: {{ colors.0 }};
        color: {{ colors.3 }};
    }

    .apresentation-button:hover {
        background-color: {{  colors.1 }};
    }

    .data-post {
        background-color: {{ colors.0 }};
        color: {{ colors.3 }};
    }

    .title-post {
        color: {{ colors.0 }};
    }

    .title-livro {
        color: {{ colors.0 }};
    }
</style>

<body>
    <div id="title-site" class="container">
        <br>
        <div id="banner" class="row">
            <div class="col-sm-2">
                <img height="130px" src="{% if config.4 %} {{ config.4.url }} {% endif %}", alt="[Logo do Site]">
            </div>
            <div class="col-sm-10">
                <h1>
                    {{ config.0 }}<br>
                    <small>{{ config.1 }}</small>
                </h1>
            </div>
        </div>
    </div>

    <nav id="navbar" class="navbar">
        <div id="nav-container" class="container">

            <ul class="nav navbar-nav">
                <li class="nav-item active text-center"><a href="/"><strong>Home</strong></a></li>
                <li class="nav-item submenu-hover text-center">
                    <a href="/posts">
                        <strong>Posts</strong>
                        {% if categorias %}
                        <span class="caret"></span>
                        {% endif %}
                    </a>
                    {% if categorias %}
                    <div class="submenu">
                        {% for id, categoria in categorias %}
                        <button id="{{ id }}" class="item"><strong>{{ categoria }}</strong></button>
                        {% endfor %}
                    </div>
                    {% endif %}
                </li>
                <li class="nav-item text-center"><a href="/gallery"><strong>Traduções</strong></a></li>
                <li class="nav-item text-center"><a href="/about"><strong>Sobre</strong></a></li>
            </ul>

            <ul class="nav navbar-nav navbar-right">
                <li id="go-top" class="text-right">
                    <a id="scrolltop">
                        <span class="glyphicon glyphicon-chevron-up"></span>
                    </a>
                </li>
            </ul>

        </div>
    </nav>

    <div class="container">
        <div class="row">

            <div id="left-content" class="col-lg-9">
                <h2>Pagina Inicial</h2>
                <br>
                <div class="index-main jumbotron apresentation"
                    style="background-image: url('{% if apresentacao %} {{ apresentacao.2.url }} {% else %} images/romantic.jpg {% endif %}');">
                    <h1 style="font-size: 40px; color: white" class="apresentation-title">
                        {% if apresentacao %}
                        {{ apresentacao.0 }}
                        {% else %}
                        [Título da Apresentação]
                        {% endif %}
                    </h1>
                    <p style="font-size: 16px" class="apresentation-text">
                        {% if apresentacao %}
                        {{ apresentacao.1 }}
                        {% else %}
                        "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut ac nunc quis eros aliquet posuere
                        eget
                        vel enim. Morbi nec sem massa. Aliquam eget ante malesuada, elementum magna vitae, ornare metus.
                        Ut
                        congue aliquam sagittis. Suspendisse dignissim metus felis, sit amet vestibulum tellus placerat
                        vitae.
                        Maecenas vitae mi a diam porta fermentum. Morbi vel hendrerit velit. Quisque mattis nunc dui,
                        convallis
                        pharetra diam tristique tristique. Etiam ut lectus rutrum, vehicula massa et, sodales velit.
                        Quisque
                        ac ornare lorem. Nullam posuere nec neque id bibendum. Mauris ac imperdiet felis. Vivamus
                        tincidunt
                        sollicitudin metus id eleifend. Vestibulum nec felis commodo, tincidunt eros ac, suscipit orci.
                        Praesent
                        mollis lacus et nunc egestas varius. Morbi quis metus ultrices, varius ex quis, eleifend felis."
                        {% endif %}
                    </p>
                    <center>
                        <button class="apresentation-button">Saiba Mais</button>
                    </center>
                    <br>
                </div>

                {% if posts %}
                <h2>Últimas Postagens</h2>
                <br>
                {% endif %}
                {% for id, title, text, image, date, author in posts %}
                <div id="{{ id }}" class="row post">
                    <div class="col-sm-3">
                        <div id="{{ id }}-icon" style="background-image: url('{{ image.url }}');" class="icon-post">
                        </div>
                    </div>
                    <div class="col-sm-9 content-post insert-br-xs">
                        <div class="data-post">{{ date|date:'d/m/y' }}</div>
                        <h2 id="{{ id }}-title" class="title-post">{{ title }}</h2>
                        <div id="{{ id }}-text" class="text-post">
                            {{ text }}
                        </div>
                        <div class="author-post">
                            Autor: {{ author }}
                        </div>
                    </div>
                </div>
                <br>
                {% endfor %}

                {% if livros %}
                <h2 style="margin-top: 10px">Últimos Livros</h2>
                <br>
                {% endif %}
                <div class="row">
                    {% for id, title, author, banner, descricao in livros %}
                    <div class="col-sm-4">
                        <div id="{{ id }}" class="thumbnail livro">
                            <div id="{{ id }}-livro-icon" style="background-image: url('{{ banner.url }}');"
                                class="icon-livro"></div>
                            <div class="caption">
                                <h4 id="{{ id }}-livro-title" class="title-livro">Livro: <small>{{ title }}</small></h4>
                                <h4 id="{{ id }}-livro-autor" class="title-livro">Autor: <small>{{ author }}</small>
                                </h4>
                                <p id="{{ id }}-livro-text" class="text-livro">
                                    {{ descricao }}
                                </p>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>

            <div id="right-content" class="insert-br-md col-lg-3">
                <div class="container-fluid index-widgets">
                    <input id="search-input" type="text" class="text-center" placeholder="Pesquisar..." name="q">
                </div>
                <br>

                {% if archive %}
                <div class="container-fluid index-widgets">
                    <h4 class="text-center">Arquivos</h4>
                    <br>
                    <ul style="margin-top: -10px;">
                        {% for year, data in archive.items %}
                        <li><a href="posts/{{ year }}/">{{ year }} <span class="badge">{{ data.0 }}</span></a><br>
                            <ul style="margin-top: 5px;">
                                {% for month, info in data.1.items %}
                                <li style="padding: 2px;">
                                    <a href="posts/{{ year }}/{{ month }}/">
                                        {{ info.0 }} <span class="badge">{{ info.1 }}</span>
                                    </a>
                                    <br>
                                </li>
                                {% endfor %}
                            </ul>
                        </li><br>
                        {% endfor %}
                    </ul>
                </div>
                {% endif %}
            </div>

        </div>
    </div>

    <br>
    <div class="container-fluid footer">
        <p>© {{ config.0 }}, {{ config.2 }}. Feito por {{ config.3 }}.</p>
    </div>

<script>
    let icon_post = 189.375;

    $(".content-post").css("height", icon_post);

    $(".post").hover(function () {
        let id = $(this).attr("id");
    
        let icon = "#" + id + "-icon";
        let title = "#" + id + "-title";
        let text = "#" + id + "-text";

        $(icon).css({"filter": "contrast(145%) brightness(100%)"});
        $(title).css({"font-weight": "lighter", "color": "{{ colors.1 }}"});
        $(text).css({"font-weight": "lighter", "color": "rgb(100, 100, 100)"});
    }, function () {
        let id = $(this).attr("id");
    
        let icon = "#" + id + "-icon";
        let title = "#" + id + "-title";
        let text = "#" + id + "-text";

        $(icon).css({"filter": "contrast(100%) brightness(65%)"});
        $(title).css({"font-weight": "", "color": "{{ colors.0 }}"});
        $(text).css({"font-weight": "", "color": "rgb(151, 151, 151)"});
    });

    $(".post").click(function () {
        let id = $(this).attr("id");

        window.location.href = "/posts/" + id;
    });

    $(".livro").click(function () {
        let id = $(this).attr("id");

        window.open("/livros/" + id, "_blank");
    })

    $(".livro").hover(function () {
        let id = $(this).attr("id");
    
        let icon = "#" + id + "-livro-icon";
        let title = "#" + id + "-livro-title";
        let autor = "#" + id + "-livro-autor";
        let text = "#" + id + "-livro-text";

        $(icon).css({"filter": "grayscale(30%) contrast(125%) brightness(100%)"});
        $(title).css({"font-weight": "lighter", "color": "{{ colors.1 }}"});
        $(autor).css({"font-weight": "lighter", "color": "{{ colors.1 }}"});
        $(text).css({"font-weight": "lighter", "color": "rgb(100, 100, 100)"});
    }, function () {
        let id = $(this).attr("id");
    
        let icon = "#" + id + "-livro-icon";
        let title = "#" + id + "-livro-title";
        let autor = "#" + id + "-livro-autor";
        let text = "#" + id + "-livro-text";

        $(icon).css({"filter": "grayscale(0%) contrast(100%) brightness(65%)"});
        $(title).css({"font-weight": "", "color": "{{ colors.0 }}"});
        $(autor).css({"font-weight": "", "color": "{{ colors.0 }}"});
        $(text).css({"font-weight": "", "color": "rgb(151, 151, 151)"});
    });
</script>

</body>

</html>